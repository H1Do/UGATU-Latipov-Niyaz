// https://contest.yandex.ru/contest/30914/problems/6
// 58194645 (я переименовал некоторые переменные)
#include <iostream>
#include "sort.h"
#include <cstring>
// csting нужен для memcpy

unsigned int getMax(unsigned int* arr, unsigned int n) {
    unsigned int Max = arr[0];
    for (unsigned int i = 1; i < n; i++)
        if (arr[i] > Max) Max = arr[i];
    return Max;
}

// Сортировка подсчетами
void CountingSort(unsigned int* arr, unsigned int n, unsigned int digit) {
    unsigned int* count_of_numbers = new unsigned int[10]{};
    for (unsigned int i = 0; i < n; i++) count_of_numbers[(arr[i] / digit) % 10]++;
    for (unsigned int i = 1; i < 10; i++) count_of_numbers[i] += count_of_numbers[i - 1];
    unsigned int* temp_arr = new unsigned int[n];
    for (int i = n - 1; i >= 0; i--)
        temp_arr[--count_of_numbers[(arr[i] / digit) % 10]] = arr[i];
    delete[] count_of_numbers;
    memcpy(arr, temp_arr, n * sizeof(unsigned int));
    delete[] temp_arr;
}

// LSDSort по разрядам числа (от 0 до 9)
void Sort(unsigned int* arr, unsigned int size) {
    unsigned int Max = getMax(arr, size);
    for (unsigned int i = 1; i < Max; i *= 10) CountingSort(arr, size, i);
}
